

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>LayIM即时通讯 - 在线演示 - layui</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">

    <link rel="stylesheet" href="layui/css/layui.css"  media="all">
    <!--<link rel="stylesheet" href="//res.layui.com/css/global.css?t=1492165103938" media="all">-->

</head>
<body>
<!--<div class="layui-layout layui-layout-admin">
    <div class="layui-header header header-demo">
        <div class="layui-main">
            <a class="logo" href="/">
                <img src="//res.layui.com/images/layui/logo.png" alt="layui">
            </a>
            <div class="layui-form component">
                <select lay-search lay-filter="component">
                    <option value="">搜索组件或模块</option>
                    <option value="element/color.html">color 颜色</option>
                    <option value="element/icon.html">iconfont 字体图标</option>
                    <option value="element/button.html">button 按钮</option>
                    <option value="element/form.html">form 表单组</option>
                    <option value="element/form.html#input">input 输入框</option>
                    <option value="element/form.html#select">select 下拉选择框</option>
                    <option value="element/form.html#checkbox">checkbox 复选框</option>
                    <option value="element/form.html#switch">switch 开关</option>
                    <option value="element/form.html#radio">radio 单选框</option>
                    <option value="element/form.html#textarea">textarea 文本域</option>
                    <option value="element/nav.html">nav 导航菜单</option>
                    <option value="element/nav.html#breadcrumb">breadcrumb 面包屑</option>
                    <option value="element/tab.html">tabs 选项卡</option>
                    <option value="element/table.html">table 表格</option>
                    <option value="element/progress.html">progress 进度条</option>
                    <option value="element/collapse.html">collapse 折叠面板/手风琴</option>
                    <option value="element/auxiliar.html#blockquote">blockquote 引用块</option>
                    <option value="element/auxiliar.html#fieldset">fieldset 字段集</option>
                    <option value="modules/layer.html">layer 弹出层/弹窗综合</option>
                    <option value="modules/layim.html">layim 即时通讯/聊天</option>
                    <option value="modules/laydate.html">laydate 日期时间选择器</option>
                    <option value="modules/laypage.html">laypage 分页</option>
                    <option value="modules/laytpl.html">laytpl 模板引擎</option>
                    <option value="modules/form.html">form 表单模块</option>
                    <option value="modules/element.html">element 常用元素操作</option>
                    <option value="modules/layedit.html">layedit 富文本编辑器</option>
                    <option value="modules/upload.html">upload 文件/图片上传</option>
                    <option value="modules/tree.html">tree 树形菜单</option>
                    <option value="modules/util.html">util 工具集</option>
                    <option value="modules/flow.html">flow 信息流/图片懒加载</option>
                    <option value="modules/code.html">code 代码修饰</option>
                </select>
            </div>
            <ul class="layui-nav" pc>
                <li class="layui-nav-item ">
                    <a href="/doc/">文档</a>
                </li>
                <li class="layui-nav-item layui-this">
                    <a href="/demo/">示例</a>
                </li>
                &lt;!&ndash;<li class="layui-nav-item" pc>
                  <a href="/xx/" target="_blank">后台</a>
                </li>&ndash;&gt;
                <li class="layui-nav-item" pc>
                    <a href="http://fly.layui.com/" target="_blank">社区</a>
                </li>
                <li class="layui-nav-item" pc>
                    <a href="javascript:;">周边</a>
                    <dl class="layui-nav-child">
                        <dd><a href="http://layim.layui.com/" target="_blank">即时聊天</a></dd>
                        <dd><a href="http://fly.layui.com/jie/8157.html" target="_blank">社区模版</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item" mobile>
                    <a href="javascript:;">更多</a>
                    <dl class="layui-nav-child">
                        <dd><a href="http://fly.layui.com/" target="_blank">社区</a></dd>
                    </dl>
                </li>
            </ul>
        </div>
    </div>
    <div class="layui-side layui-bg-black">
        <div class="layui-side-scroll">

            <ul class="layui-nav layui-nav-tree site-demo-nav">

                <li class="layui-nav-item layui-nav-itemed">
                    <a class="javascript:;" href="javascript:;">开发工具</a>
                    <dl class="layui-nav-child">
                        <dd>
                            <a href="/demo/">调试预览</a>
                        </dd>
                    </dl>
                </li>

                <li class="layui-nav-item layui-nav-itemed">
                    <a class="javascript:;" href="javascript:;">基本元素</a>
                    <dl class="layui-nav-child">
                        <dd class="">
                            <a href="/demo/button.html">按钮组</a>
                        </dd>
                        <dd class="">
                            <a href="/demo/form.html">表单集合</a>
                        </dd>
                        <dd class="">
                            <a href="/demo/nav.html">导航与面包屑</a>
                        </dd>
                        <dd class="">
                            <a href="/demo/tab.html">选项卡</a>
                        </dd>
                        <dd class="">
                            <a href="/demo/progress.html">进度条</a>
                        </dd>
                        <dd class="">
                            <a href="/demo/collapse.html">折叠面板</a>
                        </dd>
                        <dd class="">
                            <a href="/demo/table.html">基本表格</a>
                        </dd>
                        <dd class="">
                            <a href="/demo/auxiliar.html">简单辅助元素</a>
                        </dd>
                    </dl>
                </li>

                <li class="layui-nav-item layui-nav-itemed">
                    <a class="javascript:;" href="javascript:;">组件示例</a>
                    <dl class="layui-nav-child">
                        <dd class="">
                            <a href="/demo/layer.html">
                                <i class="layui-icon" style="top: 3px;">&#xe638;</i><cite>弹出层</cite>
                            </a>
                        </dd>
                        <dd class="layui-this">
                            <a href="/demo/layim.html">
                                <i class="layui-icon" style="position: relative; top: 3px;">&#xe63a;</i>
                                <cite>即时通讯</cite>
                            </a>
                        </dd>
                        <dd class="">
                            <a href="/demo/laydate.html">
                                <i class="layui-icon" style="top: 1px;">&#xe637;</i><cite>日期时间选择</cite>
                            </a>
                        </dd>
                        <dd class="">
                            <a href="/demo/laypage.html">
                                <i class="layui-icon">&#xe633;</i><cite>多功能分页</cite>
                            </a>
                        </dd>
                        <dd class="">
                            <a href="/demo/laytpl.html">
                                <i class="layui-icon">&#xe628;</i><cite>模板引擎</cite>
                            </a>
                        </dd>
                        <dd class="">
                            <a href="/demo/layedit.html">
                                <i class="layui-icon">&#xe639;</i>
                                <cite>富文本编辑器</cite>
                            </a>
                        </dd>
                        <dd class="">
                            <a href="/demo/upload.html">
                                <i class="layui-icon">&#xe62f;</i>
                                <cite>文件上传</cite>
                            </a>
                        </dd>
                        <dd class="">
                            <a href="/demo/tree.html">
                                <i class="layui-icon">&#xe62e;</i>
                                <cite>树形菜单</cite>
                            </a>
                        </dd>
                        <dd class="">
                            <a href="/demo/util.html">
                                <i class="layui-icon">&#xe631;</i>
                                <cite>工具块</cite>
                            </a>
                        </dd>
                        <dd class="">
                            <a href="/demo/flow.html">
                                <i class="layui-icon">&#xe636;</i>
                                <cite>流加载</cite>
                            </a>
                        </dd>
                        <dd class="">
                            <a href="/demo/code.html">
                                <i class="layui-icon" style="top: 1px;">&#xe635;</i>
                                <cite>代码修饰器</cite>
                            </a>
                        </dd>
                    </dl>
                </li>

                <li class="layui-nav-item" style="height: 30px; text-align: center"></li>
            </ul>

        </div>
    </div>
    <div class="layui-tab layui-tab-brief" lay-filter="demoTitle">
        <ul class="layui-tab-title site-demo-title">
            <li class="layui-this">预览</li>
            <li>查看代码</li>
            <li>帮助</li>
        </ul>
        <div class="layui-body layui-tab-content site-demo site-demo-body">


            <div class="layui-tab-item layui-show">
                <div class="layui-main">
                    <div id="LAY_preview">

                        <blockquote class="layui-elem-quote">由于LayIM是我们目前唯一的付费组件，所以在你下载的layui包里，并不包含LayIM。如果你觉得Layui对你有所帮助，并且你希望Layui能够持续发展下去，那么我们很欢迎你能捐赠Layui，成为我们的VIP2+，这对我们的促进将会极大！</blockquote>

                        <a class="layui-btn layui-btn-normal" href="http://layim.layui.com/" target="_blank">前去LayIM官网</a>

                        <fieldset class="layui-elem-field layui-field-title" style="margin-top: 50px;">
                            <legend>面板外的操作示例</legend>
                        </fieldset>

                        <div class="site-demo-button">
                            <button class="layui-btn site-demo-layim" data-type="chat">自定义会话</button>
                            <button class="layui-btn site-demo-layim" data-type="message">接受好友的消息</button>
                            <button class="layui-btn site-demo-layim" data-type="messageAudio">接受音频消息</button>
                            <button class="layui-btn site-demo-layim" data-type="messageVideo">接受视频消息</button>
                            <button class="layui-btn site-demo-layim" data-type="messageTemp">接受临时会话消息</button>

                            <br>

                            <button class="layui-btn site-demo-layim" data-type="add">申请好友</button>
                            <button class="layui-btn site-demo-layim" data-type="addqun">申请加群</button>
                            <button class="layui-btn site-demo-layim" data-type="addFriend">同意好友</button>
                            <button class="layui-btn site-demo-layim" data-type="addGroup">增加群组到主面板</button>
                            <button class="layui-btn site-demo-layim" data-type="removeFriend">删除主面板好友</button>
                            <button class="layui-btn site-demo-layim" data-type="removeGroup">删除主面板群组</button>

                            <br>
                            <button class="layui-btn site-demo-layim" data-type="setGray">置灰离线好友</button>
                            <button class="layui-btn site-demo-layim" data-type="unGray">取消好友置灰</button>
                            <a href="http://layim.layui.com/kefu.html" class="layui-btn site-demo-layim" target="_blank">客服模式</a>
                            <button class="layui-btn site-demo-layim" data-type="mobile">移动端版本</button>
                        </div>
                    </div>


                    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 50px;">
                        <legend>其它</legend>
                    </fieldset>

                    <a href="http://layim.layui.com/#getAuth" target="_blank" class="layui-btn layui-btn-warm">LayIM授权</a>
                    <a href="http://fly.layui.com/jie/3244.html" target="_blank" class="layui-btn layui-btn-normal">接入案例</a>

                    <div class="layui-elem-quote" style="margin-top: 20px;">
                        <p>Layui - 精心为你雕琢</p>
                    </div>
                </div>
            </div>


            <div class="layui-tab-item">
<textarea class="layui-border-box site-demo-text site-demo-code" id="LAY_democode" spellcheck="false" readonly>
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>layui</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="//res.layui.com/layui/build/css/layui.css"  media="all">
    &lt;!&ndash; 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 &ndash;&gt;
</head>
</textarea>
            </div>


            <div class="layui-tab-item">
                <div class="layui-main">
                    <p>我们更希望您能授权获得LayIM。扣码防不住，君子不用防。</p>


                    <div style="margin: 15px 0;">
                        <ins class="adsbygoogle"
                             style="display:inline-block;width:970px;height:90px"
                             data-ad-client="ca-pub-6111334333458862"
                             data-ad-slot="6835627838"></ins>
                    </div>


                    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 50px;">
                        <legend>相关</legend>
                    </fieldset>

                    <a class="layui-btn layui-btn-normal" href="/doc/modules/layim.html" target="_blank">LayIM文档</a>
                </div>
            </div>


        </div>
    </div>
    <div class="layui-footer footer footer-demo">
        <div class="layui-main">
            <p>&copy; 2017 <a href="/">layui.com</a> MIT license</p>
            <p>
                <a href="http://fly.layui.com/case/2017/" target="_blank">案例</a>
                <a href="http://fly.layui.com/jie/3147.html" target="_blank">捐赠</a>
                &lt;!&ndash;<a href="javascript:layer.msg('暂无此页');">关于我们</a>&ndash;&gt;
                <a href="mailto:xianxin@layui.com">联系</a>
                <a href="http://fly.layui.com/jie/4281.html" target="_blank">Git仓库</a>
                <a href="http://fly.layui.com/jie/2461.html" target="_blank">微信公众号</a>
            </p>
        </div>
    </div>
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <div class="site-tree-mobile layui-hide">
        <i class="layui-icon">&#xe602;</i>
    </div>
    <div class="site-mobile-shade"></div>

    <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_30088308'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "w.cnzz.com/c.php%3Fid%3D30088308' type='text/javascript'%3E%3C/script%3E"));</script>
</div>-->
<script src="layui/layui.js?t=1492165103938" charset="utf-8"></script>
<script>
  /*  layui.config({
        base: './layui/'
        ,version: '1492165103938'
    }).use('global');

    window.global = {
        preview: function(){
            var preview = document.getElementById('LAY_preview');
            return preview ? preview.innerHTML : '';
        }()
    };*/
</script>
<div id="LAY_democodejs">
    <script>
        layui.use('layim', function(){
            var layim = layui.layim;

            //演示自动回复
            var autoReplay = [
                '您好，我现在有事不在，一会再和您联系。',
                '你没发错吧？face[微笑] ',
                '洗澡中，请勿打扰，偷窥请购票，个体四十，团体八折，订票电话：一般人我不告诉他！face[哈哈] ',
                '你好，我是主人的美女秘书，有什么事就跟我说吧，等他回来我会转告他的。face[心] face[心] face[心] ',
                'face[威武] face[威武] face[威武] face[威武] ',
                '<（@￣︶￣@）>',
                '你要和我说话？你真的要和我说话？你确定自己想说吗？你一定非说不可吗？那你说吧，这是自动回复。',
                'face[黑线]  你慢慢说，别急……',
                '(*^__^*) face[嘻嘻] ，是贤心吗？'
            ];

            //基础配置
            layim.config({
                //初始化接口
                init: {
                    url: 'getList.json'
                    ,data: {}
                }
                //查看群员接口
                ,members: {
                    url: '/layim/json/getMembers.json'
                    ,data: {}
                }

                ,uploadImage: {
                    url: '' //（返回的数据格式见下文）
                    ,type: '' //默认post
                }
                ,uploadFile: {
                    url: '' //（返回的数据格式见下文）
                    ,type: '' //默认post
                }

                ,isAudio: true //开启聊天工具栏音频
                ,isVideo: true //开启聊天工具栏视频

                //扩展工具栏
                ,tool: [{
                    alias: 'code'
                    ,title: '代码'
                    ,icon: '&#xe64e;'
                }]

                //,brief: true //是否简约模式（若开启则不显示主面板）

                //,title: 'WebIM' //自定义主面板最小化时的标题
                //,right: '100px' //主面板相对浏览器右侧距离
                //,minRight: '90px' //聊天面板最小化时相对浏览器右侧距离
                ,initSkin: '3.jpg' //1-5 设置初始背景
                //,skin: ['aaa.jpg'] //新增皮肤
                //,isfriend: false //是否开启好友
                //,isgroup: false //是否开启群组
                //,min: true //是否始终最小化主面板，默认false
                //,notice: true //是否开启桌面消息提醒，默认false
                //,voice: false //声音提醒，默认开启，声音文件为：default.mp3

                ,msgbox: '/layim/demo/msgbox.html' //消息盒子页面地址，若不开启，剔除该项即可
                ,find: '/layim/demo/find.html' //发现页面地址，若不开启，剔除该项即可
                ,chatLog: '/layim/demo/chatLog.html' //聊天记录页面地址，若不开启，剔除该项即可

            });
            //监听在线状态的切换事件
            layim.on('online', function(status){
                layer.msg(status);
            });

            //监听签名修改
            layim.on('sign', function(value){
                layer.msg(value);
            });
            //监听自定义工具栏点击，以添加代码为例
            layim.on('tool(code)', function(insert){
                layer.prompt({
                    title: '插入代码 - 工具栏扩展示例'
                    ,formType: 2
                    ,shade: 0
                }, function(text, index){
                    layer.close(index);
                    insert('[pre class=layui-code]' + text + '[/pre]'); //将内容插入到编辑器
                });
            });

            //监听layim建立就绪
            layim.on('ready', function(res){
                //console.log(res.mine);
                layim.msgbox(5); //模拟消息盒子有新消息，实际使用时，一般是动态获得
            });
            //监听发送消息
            layim.on('sendMessage', function(data){
                var To = data.to;
                //console.log(data);

                if(To.type === 'friend'){
                    layim.setChatStatus('<span style="color:#FF5722;">对方正在输入。。。</span>');
                }

                //演示自动回复
                setTimeout(function(){
                    var obj = {};
                    if(To.type === 'group'){
                        obj = {
                            username: '模拟群员'+(Math.random()*100|0)
                            ,avatar: layui.cache.dir + 'images/face/'+ (Math.random()*72|0) + '.gif'
                            ,id: To.id
                            ,type: To.type
                            ,content: autoReplay[Math.random()*9|0]
                        }
                    } else {
                        obj = {
                            username: To.name
                            ,avatar: To.avatar
                            ,id: To.id
                            ,type: To.type
                            ,content: autoReplay[Math.random()*9|0]
                        }
                        layim.setChatStatus('<span style="color:#FF5722;">在线</span>');
                    }
                    layim.getMessage(obj);
                }, 1000);
            });
            //监听查看群员
            layim.on('members', function(data){
                //console.log(data);
            });

            //监听聊天窗口的切换
            layim.on('chatChange', function(res){
                var type = res.data.type;
                console.log(res.data.id)
                if(type === 'friend'){
                    //模拟标注好友状态
                    //layim.setChatStatus('<span style="color:#FF5722;">在线</span>');
                } else if(type === 'group'){
                    //模拟系统消息
                    layim.getMessage({
                        system: true
                        ,id: res.data.id
                        ,type: "group"
                        ,content: '模拟群员'+(Math.random()*100|0) + '加入群聊'
                    });
                }
            });


            //面板外的操作
            var $ = layui.jquery, active = {
                chat: function(){
                    //自定义会话
                    layim.chat({
                        name: '小闲'
                        ,type: 'friend'
                        ,avatar: '//tva3.sinaimg.cn/crop.0.0.180.180.180/7f5f6861jw1e8qgp5bmzyj2050050aa8.jpg'
                        ,id: 1008612
                    });
                    layer.msg('也就是说，此人可以不在好友面板里');
                }
                ,message: function(){
                    //制造好友消息
                    layim.getMessage({
                        username: "贤心"
                        ,avatar: "//tp1.sinaimg.cn/1571889140/180/40030060651/1"
                        ,id: "100001"
                        ,type: "friend"
                        ,content: "嗨，你好！欢迎体验LayIM。演示标记："+ new Date().getTime()
                        ,timestamp: new Date().getTime()
                    });
                }
                ,messageAudio: function(){
                    //接受音频消息
                    layim.getMessage({
                        username: "林心如"
                        ,avatar: "//tp3.sinaimg.cn/1223762662/180/5741707953/0"
                        ,id: "76543"
                        ,type: "friend"
                        ,content: "audio[http://gddx.sc.chinaz.com/Files/DownLoad/sound1/201510/6473.mp3]"
                        ,timestamp: new Date().getTime()
                    });
                }
                ,messageVideo: function(){
                    //接受视频消息
                    layim.getMessage({
                        username: "林心如"
                        ,avatar: "//tp3.sinaimg.cn/1223762662/180/5741707953/0"
                        ,id: "76543"
                        ,type: "friend"
                        ,content: "video[http://www.w3school.com.cn//i/movie.ogg]"
                        ,timestamp: new Date().getTime()
                    });
                }
                ,messageTemp: function(){
                    //接受临时会话消息
                    layim.getMessage({
                        username: "小酱"
                        ,avatar: "//tva1.sinaimg.cn/crop.7.0.736.736.50/bd986d61jw8f5x8bqtp00j20ku0kgabx.jpg"
                        ,id: "198909151014"
                        ,type: "friend"
                        ,content: "临时："+ new Date().getTime()
                    });
                }
                ,add: function(){
                    //实际使用时数据由动态获得
                    layim.add({
                        type: 'friend'
                        ,username: '麻花疼'
                        ,avatar: '//tva1.sinaimg.cn/crop.0.0.720.720.180/005JKVuPjw8ers4osyzhaj30k00k075e.jpg'
                        ,submit: function(group, remark, index){
                            layer.msg('好友申请已发送，请等待对方确认', {
                                icon: 1
                                ,shade: 0.5
                            }, function(){
                                layer.close(index);
                            });

                            //通知对方
                            /*
                             $.post('/im-applyFriend/', {
                             uid: info.uid
                             ,from_group: group
                             ,remark: remark
                             }, function(res){
                             if(res.status != 0){
                             return layer.msg(res.msg);
                             }
                             layer.msg('好友申请已发送，请等待对方确认', {
                             icon: 1
                             ,shade: 0.5
                             }, function(){
                             layer.close(index);
                             });
                             });
                             */
                        }
                    });
                }
                ,addqun: function(){
                    layim.add({
                        type: 'group'
                        ,username: 'LayIM会员群'
                        ,avatar: '//tva2.sinaimg.cn/crop.0.0.180.180.50/6ddfa27bjw1e8qgp5bmzyj2050050aa8.jpg'
                        ,submit: function(group, remark, index){
                            layer.msg('申请已发送，请等待管理员确认', {
                                icon: 1
                                ,shade: 0.5
                            }, function(){
                                layer.close(index);
                            });

                            //通知对方
                            /*
                             $.post('/im-applyGroup/', {
                             uid: info.uid
                             ,from_group: group
                             ,remark: remark
                             }, function(res){

                             });
                             */
                        }
                    });
                }
                ,addFriend: function(){
                    var user = {
                        type: 'friend'
                        ,id: 1234560
                        ,username: '李彦宏' //好友昵称，若申请加群，参数为：groupname
                        ,avatar: '//tva4.sinaimg.cn/crop.0.0.996.996.180/8b2b4e23jw8f14vkwwrmjj20ro0rpjsq.jpg' //头像
                        ,sign: '全球最大的中文搜索引擎'
                    }
                    layim.setFriendGroup({
                        type: user.type
                        ,username: user.username
                        ,avatar: user.avatar
                        ,group: layim.cache().friend //获取好友列表数据
                        ,submit: function(group, index){
                            //一般在此执行Ajax和WS，以通知对方已经同意申请
                            //……

                            //同意后，将好友追加到主面板
                            layim.addList({
                                type: user.type
                                ,username: user.username
                                ,avatar: user.avatar
                                ,groupid: group //所在的分组id
                                ,id: user.id //好友ID
                                ,sign: user.sign //好友签名
                            });

                            layer.close(index);
                        }
                    });
                }
                ,addGroup: function(){
                    layer.msg('已成功把[Angular开发]添加到群组里', {
                        icon: 1
                    });
                    //增加一个群组
                    layim.addList({
                        type: 'group'
                        ,avatar: "//tva3.sinaimg.cn/crop.64.106.361.361.50/7181dbb3jw8evfbtem8edj20ci0dpq3a.jpg"
                        ,groupname: 'Angular开发'
                        ,id: "12333333"
                        ,members: 0
                    });
                }
                ,removeFriend: function(){
                    layer.msg('已成功删除[凤姐]', {
                        icon: 1
                    });
                    //删除一个好友
                    layim.removeList({
                        id: 121286
                        ,type: 'friend'
                    });
                }
                ,removeGroup: function(){
                    layer.msg('已成功删除[前端群]', {
                        icon: 1
                    });
                    //删除一个群组
                    layim.removeList({
                        id: 101
                        ,type: 'group'
                    });
                }
                //置灰离线好友
                ,setGray: function(){
                    layim.setFriendStatus(168168, 'offline');

                    layer.msg('已成功将好友[马小云]置灰', {
                        icon: 1
                    });
                }
                //取消好友置灰
                ,unGray: function(){
                    layim.setFriendStatus(168168, 'online');

                    layer.msg('成功取消好友[马小云]置灰状态', {
                        icon: 1
                    });
                }
                //移动端版本
                ,mobile: function(){
                    var device = layui.device();
                    var mobileHome = '/layim/demo/mobile.html';
                    if(device.android || device.ios){
                        return location.href = mobileHome;
                    }
                    var index = layer.open({
                        type: 2
                        ,title: '移动版演示 （或手机扫右侧二维码预览）'
                        ,content: mobileHome
                        ,area: ['375px', '667px']
                        ,shadeClose: true
                        ,shade: 0.8
                        ,end: function(){
                            layer.close(index + 2);
                        }
                    });
                    layer.photos({
                        photos: {
                            "data": [{
                                "src": "http://cdn.layui.com/upload/2016_12/168_1481056358469_50288.png",
                            }]
                        }
                        ,anim: 0
                        ,shade: false
                        ,success: function(layero){
                            layero.css('margin-left', '350px');
                        }
                    });
                }
            };
            $('.site-demo-layim').on('click', function(){
                var type = $(this).data('type');
                active[type] ? active[type].call(this) : '';
            });
        });
    </script>
</div>
</body>
</html>